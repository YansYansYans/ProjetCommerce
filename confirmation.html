<!DOCTYPE html>
<html>
<head>
	<title>Orinoco</title>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="css/styles.css">
	<meta name="description" content="Trouver la caméra qu'il vous faut sur Oriview">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">
	<link href="img/favicon.ico" rel="shortcut icon" />
	<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src="index.js"></script>
    <script src="JWDP5-master/app.js"></script>
    <script src="JWDP5-master/serveur.js"></script>
    <script src="JWDP5-master/package.json.js"></script>
    <script src="JWDP5-master/models/camera.js"></script>
    <script src="JWDP5-master/controllers/camera.js"></script>
    <script src="JWDP5-master/routes/camera.js"></script>
    
</head>

<body class="confirmation">

<header>
	<a href="index.html">
		<img class="titre" src="img/oriview.png">
	</a>
</header>

<div id="blockconfirmation">
	<div class="titreconfirmation">
		<i class="fas fa-paper-plane fa-5x"></i>
		<h1>
			Confirmation de Commande
		</h1>
	</div>
	<div class="allconfirmation">
		<div class="remerciement">
			Orinico vous remercie d'avoir passé commande chez nous. Nous espérons que vous trouverez satisfaction dans nos articles et que vous serez amené à recommander chez nous. Excellente Journée !!!
		</div>
		<div class="tt">
                Total : € <span id="total-cart"></span>
            </div>
		<div class="idcommande">
			Voici votre identifiant de commande qui vous permettra de voir l'évolution du trajet de ce dernier :
			<br>
			<span>xk467doFEgre576FD687hjd54KH4jkzk5U</span> 
			<br>
			<br>
			<span class="retour">Appuyez sur Orinoco pour retourner à l'accueil.</span>
		</div>
	</div>
</div>

<script>
$(".add-to-cart").click(function(event){
            event.preventDefault();
            var name = $(this).attr("data-name");
            var price = Number($(this).attr("data-price"));

            shoppingCart.addItemToCart(name, price, 1);
            displayCart();
        });

        $("#clear-cart").click(function(event){
            shoppingCart.clearCart();
            displayCart();
        });

        function displayCart() {
            var cartArray = shoppingCart.listCart();
            console.log(cartArray);
            var output = "";

            for (var i in cartArray) {
                output += "<li>"
                    +cartArray[i].name
                    +" <input class='item-count' type='number' data-name='"
                    +cartArray[i].name
                    +"' value='"+cartArray[i].count+"' >"
                    +" x "+cartArray[i].price
                    +" = "+cartArray[i].total
                    +" <button class='plus-item' data-name='"
                    +cartArray[i].name+"'>+</button>"
                    +" <button class='subtract-item' data-name='"
                    +cartArray[i].name+"'>-</button>"
                    +" <button class='delete-item' data-name='"
                    +cartArray[i].name+"'>X</button>"
                    +"</li>";
            }

            $("#show-cart").html(output);
            $("#count-cart").html( shoppingCart.countCart() );
            $("#total-cart").html( shoppingCart.totalCart() );
        }

        $("#show-cart").on("click", ".delete-item", function(event){
            var name = $(this).attr("data-name");
            shoppingCart.removeItemFromCartAll(name);
            displayCart();
        });

        $("#show-cart").on("click", ".subtract-item", function(event){
            var name = $(this).attr("data-name");
            shoppingCart.removeItemFromCart(name);
            displayCart();
        });

        $("#show-cart").on("click", ".plus-item", function(event){
            var name = $(this).attr("data-name");
            shoppingCart.addItemToCart(name, 0, 1);
            displayCart();
        });

        $("#show-cart").on("change", ".item-count", function(event){
            var name = $(this).attr("data-name");
            var count = Number($(this).val());
            shoppingCart.setCountForItem(name, count);
            displayCart();
        });


        displayCart();





        function printit(){
if (NS) {
    window.print() ;
} else {
    var WebBrowser = '<OBJECT ID="WebBrowser1" WIDTH=0 HEIGHT=0 CLASSID="CLSID:8856F961-340A-11D0-A96B-00C04FD705A2"></OBJECT>';
document.body.insertAdjacentHTML('beforeEnd', WebBrowser);
    WebBrowser1.ExecWB(6, 2);
}
}
var NS = (navigator.appName == "Netscape");
var VERSION = parseInt(navigator.appVersion);
if (VERSION > 3) {
    document.write('<form><input type=button value="Imprimer cette page" name="Print" onClick="printit()"></form>');
}
</script>


<footer>
	<p>
		Tout droits réservés-2019-2020 Orinoco
	</p>
	<p>
		Réalisé par OrinocoSociaty
	</p>
</footer>

</body>
</html>