<!DOCTYPE html>
<html>
<head>
    <title>Orinoco</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <meta name="description" content="Trouver la caméra qu'il vous faut sur Oriview">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">
    <link href="img/favicon.ico" rel="shortcut icon" />
    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src="index.js"></script>
    <script src="JWDP5-master/app.js"></script>
    <script src="JWDP5-master/serveur.js"></script>
    <script src="JWDP5-master/package.json.js"></script>
    <script src="JWDP5-master/models/camera.js"></script>
    <script src="JWDP5-master/controllers/camera.js"></script>
    <script src="JWDP5-master/routes/camera.js"></script>
</head>

<body class="produit">

<header>
    <a href="index.html">
        <img class="titre" src="img/oriview.png">
    </a>
</header>
<div class="miniheader">
    <ul>
        <li>
            <a href="index.html">
                M A G A S I N S
            </a>
        </li>
        <li>
            <a href="https://fr.wikipedia.org/wiki/Orinoco" target="_BLANK">
                H I S T O I R E 
            </a>
        </li>
        <li>
            <a href="mailto:orinoco@gmail.com">
                C O N T A C T 
            </a>
        </li>
        <li>
            <a href="panier.html">
                P A N I E R
            </a>
        </li>
    </ul>
</div>


<div id="blockproduit">
    <div class="blocktop">
        <div class="topleft">
           <img src="images/vcam_5.jpg">
       </div>
        <div class="topright">
            <h1 class="tit">
                Canon 310 M
            </h1>
            <div class="prix5">
                230.75 €
            </div>
            <p>
                Il a fait monter la marque Canon en top dans les années 30, c'est le 310 M avec son format très compact mais visuellement éblouissant pour l'époque.
            </p>
            <span>
                Livraison Rapide
                <br>
                Produit Recommandé par les cliens
                <br>
                Année : 1934
                <br>
                4,1 étoiles
            </span>
        </div>
    </div>
    <div class="blockbottom">
        <div class="bottomleft">
            <button id="btnr">Rouge</button>
            <button id="btnb">Bleue</button>
            <button id="btnv">Verte</button>
        </div>
        <div class="bottomright">
            <a class="add-to-cart addprod d1" href="#" data-name="Canon 310 M / Lentille : Rouge" data-price="230.75">
                Ajouter au panier
            </a><style>.d1 {display: none;} .d11 {display: block;}</style>
            <a class="add-to-cart addprod d2" href="#" data-name="Canon 310 M / Lentille : Bleue" data-price="230.75">
                Ajouter au panier
            </a><style>.d2 {display: none;} .d22 {display: block;}</style>
            <a class="add-to-cart addprod d3" href="#" data-name="Canon 310 M / Lentille : Verte" data-price="230.75">
                Ajouter au panier
            </a><style>.d3 {display: none;} .d33 {display: block;}</style>
            <p>
                AJOUTER
            </p>
        </div>
    </div>
</div>

<script>
var btnr = document.getElementById('btnr');
btnr.onclick = function(){
    var carre = document.querySelector('.d1');
    carre.classList.toggle('d11');
    var carre2 = document.querySelector('.d2');
    carre2.classList.remove('d22');
    var carre3 = document.querySelector('.d3');
    carre3.classList.remove('d33');
}
var btnb = document.getElementById('btnb');
btnb.onclick = function(){
    var rond = document.querySelector('.d2');
    rond.classList.toggle('d22');
    var rond2 = document.querySelector('.d1');
    rond2.classList.remove('d11');
    var rond3 = document.querySelector('.d3');
    rond3.classList.remove('d33');
}
var btnv = document.getElementById('btnv');
btnv.onclick = function(){
    var cercle = document.querySelector('.d3');
    cercle.classList.toggle('d33');
    var cercle2 = document.querySelector('.d2');
    cercle2.classList.remove('d22');
    var cercle3 = document.querySelector('.d1');
    cercle3.classList.remove('d11');
}

$(".add-to-cart").click(function(event){
            event.preventDefault();
            var name = $(this).attr("data-name");
            var price = Number($(this).attr("data-price"));

            shoppingCart.addItemToCart(name, price, 1);
            displayCart();
        });

        $("#clear-cart").click(function(event){
            shoppingCart.clearCart();
            displayCart();
        });

        function displayCart() {
            var cartArray = shoppingCart.listCart();
            console.log(cartArray);
            var output = "";

            for (var i in cartArray) {
                output += "<li>"
                    +cartArray[i].name
                    +" <input class='item-count' type='number' data-name='"
                    +cartArray[i].name
                    +"' value='"+cartArray[i].count+"' >"
                    +" x "+cartArray[i].price
                    +" = "+cartArray[i].total
                    +" <button class='plus-item' data-name='"
                    +cartArray[i].name+"'>+</button>"
                    +" <button class='subtract-item' data-name='"
                    +cartArray[i].name+"'>-</button>"
                    +" <button class='delete-item' data-name='"
                    +cartArray[i].name+"'>X</button>"
                    +"</li>";
            }

            $("#show-cart").html(output);
            $("#count-cart").html( shoppingCart.countCart() );
            $("#total-cart").html( shoppingCart.totalCart() );
        }

        $("#show-cart").on("click", ".delete-item", function(event){
            var name = $(this).attr("data-name");
            shoppingCart.removeItemFromCartAll(name);
            displayCart();
        });

        $("#show-cart").on("click", ".subtract-item", function(event){
            var name = $(this).attr("data-name");
            shoppingCart.removeItemFromCart(name);
            displayCart();
        });

        $("#show-cart").on("click", ".plus-item", function(event){
            var name = $(this).attr("data-name");
            shoppingCart.addItemToCart(name, 0, 1);
            displayCart();
        });

        $("#show-cart").on("change", ".item-count", function(event){
            var name = $(this).attr("data-name");
            var count = Number($(this).val());
            shoppingCart.setCountForItem(name, count);
            displayCart();
        });


        displayCart();
</script>

<footer>
    <p>
        Tout droits réservés-2019-2020 Orinoco
    </p>
    <p>
        Réalisé par OrinocoSociaty
    </p>
</footer>


</body>
</html>